<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Module riakc_pb_socket</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<hr>

<h1>Module riakc_pb_socket</h1>
<ul class="index"><li><a href="#description">Description</a></li><li><a href="#types">Data Types</a></li><li><a href="#index">Function Index</a></li><li><a href="#functions">Function Details</a></li></ul>Manages a connection to Riak via the Protocol Buffers
  transport and executes the commands that can be performed over that
  connection.

<p><b>Behaviours:</b> <a href="gen_server.html"><tt>gen_server</tt></a>.</p>

<h2><a name="description">Description</a></h2>Manages a connection to Riak via the Protocol Buffers
  transport and executes the commands that can be performed over that
  connection.
<h2><a name="types">Data Types</a></h2>

<h3 class="typedecl"><a name="type-address">address()</a></h3>
<p><tt>address() = string() | atom() | <a href="inet.html#type-ip_address">inet:ip_address()</a></tt></p>
<p>  The TCP/IP host name or address of the Riak node</p>

<h3 class="typedecl"><a name="type-bucket">bucket()</a></h3>
<p><tt>bucket() = binary()</tt></p>


<h3 class="typedecl"><a name="type-bucket_and_type">bucket_and_type()</a></h3>
<p><tt>bucket_and_type() = {<a href="#type-bucket_type">bucket_type()</a>, <a href="#type-bucket">bucket()</a>}</tt></p>


<h3 class="typedecl"><a name="type-bucket_prop">bucket_prop()</a></h3>
<p><tt>bucket_prop() = {n_val, pos_integer()} | {allow_mult, boolean()} | {search_index, binary()}</tt></p>


<h3 class="typedecl"><a name="type-bucket_props">bucket_props()</a></h3>
<p><tt>bucket_props() = [<a href="#type-bucket_prop">bucket_prop()</a>]</tt></p>


<h3 class="typedecl"><a name="type-bucket_type">bucket_type()</a></h3>
<p><tt>bucket_type() = binary()</tt></p>


<h3 class="typedecl"><a name="type-client_id">client_id()</a></h3>
<p><tt>client_id() = binary()</tt></p>


<h3 class="typedecl"><a name="type-client_option">client_option()</a></h3>
<p><tt>client_option() = queue_if_disconnected | {queue_if_disconnected, boolean()} | {connect_timeout, pos_integer()} | auto_reconnect | {auto_reconnect, boolean()} | keepalive | {keepalive, boolean()}</tt></p>


<h3 class="typedecl"><a name="type-client_options">client_options()</a></h3>
<p><tt>client_options() = [<a href="#type-client_option">client_option()</a>]</tt></p>


<h3 class="typedecl"><a name="type-connection_failure">connection_failure()</a></h3>
<p><tt>connection_failure() = {Reason::term(), FailureCount::integer()}</tt></p>


<h3 class="typedecl"><a name="type-continuation">continuation()</a></h3>
<p><tt>continuation() = undefined | binary()</tt></p>


<h3 class="typedecl"><a name="type-cs_opt">cs_opt()</a></h3>
<p><tt>cs_opt() = {timeout, timeout()} | {continuation, binary()} | {max_results, non_neg_integer() | all} | {start_key, binary()} | {start_incl, boolean()} | {end_key, binary()} | {end_incl, boolean()}</tt></p>


<h3 class="typedecl"><a name="type-cs_opts">cs_opts()</a></h3>
<p><tt>cs_opts() = [<a href="#type-cs_opt">cs_opt()</a>]</tt></p>


<h3 class="typedecl"><a name="type-delete_option">delete_option()</a></h3>
<p><tt>delete_option() = <a href="#type-delete_quorum">delete_quorum()</a> | {n_val, pos_integer()} | {sloppy_quorum, boolean()}</tt></p>


<h3 class="typedecl"><a name="type-delete_options">delete_options()</a></h3>
<p><tt>delete_options() = [<a href="#type-delete_option">delete_option()</a>]</tt></p>


<h3 class="typedecl"><a name="type-delete_quorum">delete_quorum()</a></h3>
<p><tt>delete_quorum() = <a href="#type-read_quorum">read_quorum()</a> | <a href="#type-write_quorum">write_quorum()</a> | {rw, ReadWriteQuorum::<a href="#type-quorum">quorum()</a>}</tt></p>


<h3 class="typedecl"><a name="type-get_option">get_option()</a></h3>
<p><tt>get_option() = <a href="#type-read_quorum">read_quorum()</a> | {if_modified, <a href="riakc_obj.html#type-vclock">riakc_obj:vclock()</a>} | {notfound_ok, boolean()} | {basic_quorum, boolean()} | head | deletedvclock | {n_val, pos_integer()} | {sloppy_quorum, boolean()}</tt></p>


<h3 class="typedecl"><a name="type-get_options">get_options()</a></h3>
<p><tt>get_options() = [<a href="#type-get_option">get_option()</a>]</tt></p>


<h3 class="typedecl"><a name="type-index_opt">index_opt()</a></h3>
<p><tt>index_opt() = {timeout, timeout()} | {call_timeout, timeout()} | {stream, boolean()} | {continuation, binary()} | {pagination_sort, boolean()} | {max_results, non_neg_integer() | all}</tt></p>


<h3 class="typedecl"><a name="type-index_opts">index_opts()</a></h3>
<p><tt>index_opts() = [<a href="#type-index_opt">index_opt()</a>]</tt></p>


<h3 class="typedecl"><a name="type-index_results">index_results()</a></h3>
<p><tt>index_results() = #index_results_v1{keys = undefined | <a href="#type-keys">keys()</a>, terms = undefined | <a href="#type-index_terms">index_terms()</a>, continuation = undefined | <a href="#type-continuation">continuation()</a>} | #index_body_results_v1{objects = [<a href="#type-riakc_obj">riakc_obj()</a>], continuation = undefined | <a href="#type-continuation">continuation()</a>}</tt></p>


<h3 class="typedecl"><a name="type-index_term">index_term()</a></h3>
<p><tt>index_term() = integer() | binary()</tt></p>


<h3 class="typedecl"><a name="type-index_terms">index_terms()</a></h3>
<p><tt>index_terms() = [{<a href="#type-index_term">index_term()</a>, binary()}] | undefined</tt></p>


<h3 class="typedecl"><a name="type-key">key()</a></h3>
<p><tt>key() = binary()</tt></p>


<h3 class="typedecl"><a name="type-key_data">key_data()</a></h3>
<p><tt>key_data() = undefined | term()</tt></p>


<h3 class="typedecl"><a name="type-keys">keys()</a></h3>
<p><tt>keys() = [binary()] | undefined</tt></p>


<h3 class="typedecl"><a name="type-mapred_funterm">mapred_funterm()</a></h3>
<p><tt>mapred_funterm() = {modfun, Module::atom(), Function::atom()} | {qfun, function()} | {strfun, list() | binary()} | {jsanon, binary() | {<a href="#type-bucket">bucket()</a>, <a href="#type-key">key()</a>}} | {jsfun, binary()}</tt></p>


<h3 class="typedecl"><a name="type-mapred_inputs">mapred_inputs()</a></h3>
<p><tt>mapred_inputs() = <a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a> | [{<a href="#type-bucket">bucket()</a>, <a href="#type-key">key()</a>} | {{<a href="#type-bucket_and_type">bucket_and_type()</a>, <a href="#type-key">key()</a>}, <a href="#type-key_data">key_data()</a>} | {{<a href="#type-bucket">bucket()</a>, <a href="#type-key">key()</a>}, <a href="#type-key_data">key_data()</a>}] | {modfun, Module::atom(), Function::atom(), [term()]} | {index, <a href="#type-bucket">bucket()</a>, Index::binary() | <a href="#type-secondary_index_id">secondary_index_id()</a>, <a href="#type-key">key()</a> | integer()} | {index, <a href="#type-bucket">bucket()</a>, Index::binary() | <a href="#type-secondary_index_id">secondary_index_id()</a>, StartKey::<a href="#type-key">key()</a> | integer(), EndKey::<a href="#type-key">key()</a> | integer()}</tt></p>


<h3 class="typedecl"><a name="type-mapred_queryterm">mapred_queryterm()</a></h3>
<p><tt>mapred_queryterm() = {map, <a href="#type-mapred_funterm">mapred_funterm()</a>, Arg::term(), Accumulate::boolean()} | {reduce, <a href="#type-mapred_funterm">mapred_funterm()</a>, Arg::term(), Accumulate::boolean()} | {link, Bucket::<a href="riakc_obj.html#type-bucket">riakc_obj:bucket()</a>, Tag::term(), Accumulate::boolean()}</tt></p>


<h3 class="typedecl"><a name="type-mapred_result">mapred_result()</a></h3>
<p><tt>mapred_result() = [term()]</tt></p>


<h3 class="typedecl"><a name="type-msg_id">msg_id()</a></h3>
<p><tt>msg_id() = non_neg_integer()</tt></p>
<p>  Request identifier for tunneled message types</p>

<h3 class="typedecl"><a name="type-portnum">portnum()</a></h3>
<p><tt>portnum() = non_neg_integer()</tt></p>
<p>  The TCP port number of the Riak node's Protocol Buffers interface</p>

<h3 class="typedecl"><a name="type-preflist">preflist()</a></h3>
<p><tt>preflist() = [#preflist_item{partition = undefined | non_neg_integer(), node = undefined | binary(), primary = undefined | boolean()}]</tt></p>


<h3 class="typedecl"><a name="type-put_option">put_option()</a></h3>
<p><tt>put_option() = <a href="#type-write_quorum">write_quorum()</a> | return_body | return_head | if_not_modified | if_none_match | {n_val, pos_integer()} | {sloppy_quorum, boolean()}</tt></p>


<h3 class="typedecl"><a name="type-put_options">put_options()</a></h3>
<p><tt>put_options() = [<a href="#type-put_option">put_option()</a>]</tt></p>


<h3 class="typedecl"><a name="type-quorum">quorum()</a></h3>
<p><tt>quorum() = non_neg_integer() | one | all | quorum | default</tt></p>


<h3 class="typedecl"><a name="type-range_index_opt">range_index_opt()</a></h3>
<p><tt>range_index_opt() = {return_terms, boolean()} | {term_regex, binary()}</tt></p>


<h3 class="typedecl"><a name="type-range_index_opts">range_index_opts()</a></h3>
<p><tt>range_index_opts() = [<a href="#type-index_opt">index_opt()</a> | <a href="#type-range_index_opt">range_index_opt()</a>]</tt></p>


<h3 class="typedecl"><a name="type-read_quorum">read_quorum()</a></h3>
<p><tt>read_quorum() = {r, ReadQuorum::<a href="#type-quorum">quorum()</a>} | {pr, PrimaryReadQuorum::<a href="#type-quorum">quorum()</a>}</tt></p>


<h3 class="typedecl"><a name="type-req_id">req_id()</a></h3>
<p><tt>req_id() = non_neg_integer()</tt></p>


<h3 class="typedecl"><a name="type-riakc_obj">riakc_obj()</a></h3>
<p><tt>riakc_obj() = <a href="riakc_obj.html#type-riakc_obj">riakc_obj:riakc_obj()</a></tt></p>


<h3 class="typedecl"><a name="type-search_admin_opt">search_admin_opt()</a></h3>
<p><tt>search_admin_opt() = {timeout, timeout()} | {call_timeout, timeout()}</tt></p>


<h3 class="typedecl"><a name="type-search_admin_opts">search_admin_opts()</a></h3>
<p><tt>search_admin_opts() = [<a href="#type-search_admin_opt">search_admin_opt()</a>]</tt></p>


<h3 class="typedecl"><a name="type-search_doc">search_doc()</a></h3>
<p><tt>search_doc() = [{binary(), binary()}]</tt></p>


<h3 class="typedecl"><a name="type-search_index">search_index()</a></h3>
<p><tt>search_index() = [{index, binary()} | {schema, binary()}]</tt></p>


<h3 class="typedecl"><a name="type-search_option">search_option()</a></h3>
<p><tt>search_option() = {rows, non_neg_integer()} | {start, non_neg_integer()} | {sort, binary()} | {filter, binary()} | {df, binary()} | {op, binary()} | {fl, [binary()]} | {presort, binary()}</tt></p>


<h3 class="typedecl"><a name="type-search_options">search_options()</a></h3>
<p><tt>search_options() = [<a href="#type-search_option">search_option()</a>]</tt></p>


<h3 class="typedecl"><a name="type-search_result">search_result()</a></h3>
<p><tt>search_result() = #search_results{docs = undefined | [<a href="#type-search_doc">search_doc()</a>], max_score = undefined | float(), num_found = undefined | non_neg_integer()}</tt></p>


<h3 class="typedecl"><a name="type-search_schema">search_schema()</a></h3>
<p><tt>search_schema() = [{name, binary()} | {content, binary()}]</tt></p>


<h3 class="typedecl"><a name="type-secondary_index_id">secondary_index_id()</a></h3>
<p><tt>secondary_index_id() = {binary_index, string()} | {integer_index, string()}</tt></p>


<h3 class="typedecl"><a name="type-server_info">server_info()</a></h3>
<p><tt>server_info() = [<a href="#type-server_prop">server_prop()</a>]</tt></p>


<h3 class="typedecl"><a name="type-server_prop">server_prop()</a></h3>
<p><tt>server_prop() = {node, binary()} | {server_version, binary()}</tt></p>


<h3 class="typedecl"><a name="type-timeout_name">timeout_name()</a></h3>
<p><tt>timeout_name() = ping_timeout | get_client_id_timeout | set_client_id_timeout | get_server_info_timeout | get_timeout | put_timeout | delete_timeout | list_buckets_timeout | list_buckets_call_timeout | list_keys_timeout | stream_list_keys_timeout | stream_list_keys_call_timeout | get_bucket_timeout | get_bucket_call_timeout | set_bucket_timeout | set_bucket_call_timeout | mapred_timeout | mapred_call_timeout | mapred_stream_timeout | mapred_stream_call_timeout | mapred_bucket_timeout | mapred_bucket_call_timeout | mapred_bucket_stream_call_timeout | search_timeout | search_call_timeout | timeout</tt></p>


<h3 class="typedecl"><a name="type-write_quorum">write_quorum()</a></h3>
<p><tt>write_quorum() = {w, WriteQuorum::<a href="#type-quorum">quorum()</a>} | {dw, DurableWriteQuorum::<a href="#type-quorum">quorum()</a>} | {pw, PrimaryWriteQuorum::<a href="#type-quorum">quorum()</a>}</tt></p>


<h2><a name="index">Function Index</a></h2>
<table width="100%" border="1" cellspacing="0" cellpadding="2" summary="function index"><tr><td valign="top"><a href="#counter_incr-4">counter_incr/4</a></td><td>increment the pre-Riak 2 counter at <code>bucket</code>, <code>key</code> by <code>amount</code></td></tr>
<tr><td valign="top"><a href="#counter_incr-5">counter_incr/5</a></td><td>increment the pre-Riak 2 counter at <code>Bucket</code>, <code>Key</code> by <code>Amount</code>.</td></tr>
<tr><td valign="top"><a href="#counter_val-3">counter_val/3</a></td><td>get the current value of the pre-Riak 2 counter at <code>Bucket</code>, <code>Key</code>.</td></tr>
<tr><td valign="top"><a href="#counter_val-4">counter_val/4</a></td><td>get the current value of the pre-Riak 2 counter at <code>Bucket</code>, <code>Key</code> using
  the <code>read_qurom()</code> <code>Options</code> provided.</td></tr>
<tr><td valign="top"><a href="#create_search_index-2">create_search_index/2</a></td><td>Create a search index.</td></tr>
<tr><td valign="top"><a href="#create_search_index-3">create_search_index/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#create_search_index-4">create_search_index/4</a></td><td></td></tr>
<tr><td valign="top"><a href="#create_search_schema-3">create_search_schema/3</a></td><td>Create a schema, which is a required component of an index.</td></tr>
<tr><td valign="top"><a href="#create_search_schema-4">create_search_schema/4</a></td><td>Create a schema, which is a required component of an index.</td></tr>
<tr><td valign="top"><a href="#cs_bucket_fold-3">cs_bucket_fold/3</a></td><td>secret function, do not use, or I come to your house and keeel you.</td></tr>
<tr><td valign="top"><a href="#default_timeout-1">default_timeout/1</a></td><td>Return the default timeout for an operation if none is provided.</td></tr>
<tr><td valign="top"><a href="#delete-3">delete/3</a></td><td>Delete the key/value.</td></tr>
<tr><td valign="top"><a href="#delete-4">delete/4</a></td><td>Delete the key/value specifying timeout or options.</td></tr>
<tr><td valign="top"><a href="#delete-5">delete/5</a></td><td>Delete the key/value with options and timeout.</td></tr>
<tr><td valign="top"><a href="#delete_obj-2">delete_obj/2</a></td><td>Delete the riak object.</td></tr>
<tr><td valign="top"><a href="#delete_obj-3">delete_obj/3</a></td><td>Delete the riak object with options.</td></tr>
<tr><td valign="top"><a href="#delete_obj-4">delete_obj/4</a></td><td>Delete the riak object with options and timeout.</td></tr>
<tr><td valign="top"><a href="#delete_search_index-2">delete_search_index/2</a></td><td>Delete a search index.</td></tr>
<tr><td valign="top"><a href="#delete_search_index-3">delete_search_index/3</a></td><td>Delete a search index.</td></tr>
<tr><td valign="top"><a href="#delete_vclock-4">delete_vclock/4</a></td><td>Delete the object at Bucket/Key, giving the vector clock.</td></tr>
<tr><td valign="top"><a href="#delete_vclock-5">delete_vclock/5</a></td><td>Delete the object at Bucket/Key, specifying timeout or options and giving the vector clock.</td></tr>
<tr><td valign="top"><a href="#delete_vclock-6">delete_vclock/6</a></td><td>Delete the key/value with options and timeout and giving the
  vector clock.</td></tr>
<tr><td valign="top"><a href="#fetch_type-3">fetch_type/3</a></td><td>Fetches the representation of a convergent datatype from Riak.</td></tr>
<tr><td valign="top"><a href="#fetch_type-4">fetch_type/4</a></td><td>Fetches the representation of a convergent datatype from Riak,
  using the given request options.</td></tr>
<tr><td valign="top"><a href="#get-3">get/3</a></td><td>Get bucket/key from the server.</td></tr>
<tr><td valign="top"><a href="#get-4">get/4</a></td><td>Get bucket/key from the server specifying timeout.</td></tr>
<tr><td valign="top"><a href="#get-5">get/5</a></td><td>Get bucket/key from the server supplying options and timeout.</td></tr>
<tr><td valign="top"><a href="#get_bucket-2">get_bucket/2</a></td><td>Get bucket properties.</td></tr>
<tr><td valign="top"><a href="#get_bucket-3">get_bucket/3</a></td><td>Get bucket properties specifying a server side timeout.</td></tr>
<tr><td valign="top"><a href="#get_bucket-4">get_bucket/4</a></td><td>(<em>Deprecated</em>.) Get bucket properties specifying a server side and local call timeout.</td></tr>
<tr><td valign="top"><a href="#get_bucket_type-2">get_bucket_type/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_bucket_type-3">get_bucket_type/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_client_id-1">get_client_id/1</a></td><td>Get the client id for this connection.</td></tr>
<tr><td valign="top"><a href="#get_client_id-2">get_client_id/2</a></td><td>Get the client id for this connection specifying timeout.</td></tr>
<tr><td valign="top"><a href="#get_coverage-2">get_coverage/2</a></td><td>Get minimal coverage plan.</td></tr>
<tr><td valign="top"><a href="#get_coverage-3">get_coverage/3</a></td><td>Get parallel coverage plan if 3rd argument is &gt;= 0.</td></tr>
<tr><td valign="top"><a href="#get_index-4">get_index/4</a></td><td>(<em>Deprecated</em>.) Execute a secondary index equality query.</td></tr>
<tr><td valign="top"><a href="#get_index-5">get_index/5</a></td><td>(<em>Deprecated</em>.) Execute a secondary index range query.</td></tr>
<tr><td valign="top"><a href="#get_index-6">get_index/6</a></td><td>(<em>Deprecated</em>.) Execute a secondary index equality query with specified
  timeouts.</td></tr>
<tr><td valign="top"><a href="#get_index-7">get_index/7</a></td><td>(<em>Deprecated</em>.) Execute a secondary index range query with specified
  timeouts.</td></tr>
<tr><td valign="top"><a href="#get_index_eq-4">get_index_eq/4</a></td><td>Execute a secondary index equality query.</td></tr>
<tr><td valign="top"><a href="#get_index_eq-5">get_index_eq/5</a></td><td>Execute a secondary index equality query with specified options
  <dl>
  <dt>timeout:</dt> <dd>milliseconds to wait for a response from riak</dd>
  <dt>stream:</dt> <dd> true | false. Stream results to calling process</dd>
  <dt>continuation:</dt> <dd> The opaque, binary continuation returned from a previous query.
                              Requests the next results.</dd>
  <dt>max_results:</dt> <dd>Positive integer, maximum number of results to return.
                            Expect a <code>continuation</code> in the response if this option is used.</dd>
  </dl></td></tr>
<tr><td valign="top"><a href="#get_index_range-5">get_index_range/5</a></td><td>Execute a secondary index range query.</td></tr>
<tr><td valign="top"><a href="#get_index_range-6">get_index_range/6</a></td><td>Execute a secondary index range query with specified options.</td></tr>
<tr><td valign="top"><a href="#get_preflist-3">get_preflist/3</a></td><td>Get active preflist.</td></tr>
<tr><td valign="top"><a href="#get_preflist-4">get_preflist/4</a></td><td>Get active preflist specifying a server side timeout.</td></tr>
<tr><td valign="top"><a href="#get_search_index-2">get_search_index/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_search_index-3">get_search_index/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_search_schema-2">get_search_schema/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_search_schema-3">get_search_schema/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#get_server_info-1">get_server_info/1</a></td><td>Get the server information for this connection.</td></tr>
<tr><td valign="top"><a href="#get_server_info-2">get_server_info/2</a></td><td>Get the server information for this connection specifying timeout.</td></tr>
<tr><td valign="top"><a href="#is_connected-1">is_connected/1</a></td><td>Determines whether the client is connected.</td></tr>
<tr><td valign="top"><a href="#is_connected-2">is_connected/2</a></td><td>Determines whether the client is connected, with the specified
  timeout to the client process.</td></tr>
<tr><td valign="top"><a href="#legacy_list_buckets-2">legacy_list_buckets/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#list_buckets-1">list_buckets/1</a></td><td>List all buckets on the server in the "default" bucket type.</td></tr>
<tr><td valign="top"><a href="#list_buckets-2">list_buckets/2</a></td><td>List all buckets in a bucket type, specifying server-side timeout.</td></tr>
<tr><td valign="top"><a href="#list_buckets-3">list_buckets/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#list_keys-2">list_keys/2</a></td><td>List all keys in a bucket
  <em>This is a potentially expensive operation and should not be used in production.</em></td></tr>
<tr><td valign="top"><a href="#list_keys-3">list_keys/3</a></td><td>List all keys in a bucket specifying timeout.</td></tr>
<tr><td valign="top"><a href="#list_search_indexes-1">list_search_indexes/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#list_search_indexes-2">list_search_indexes/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#mapred-3">mapred/3</a></td><td>Perform a MapReduce job across the cluster.</td></tr>
<tr><td valign="top"><a href="#mapred-4">mapred/4</a></td><td>Perform a MapReduce job across the cluster with a job timeout.</td></tr>
<tr><td valign="top"><a href="#mapred-5">mapred/5</a></td><td>Perform a MapReduce job across the cluster with a job and
       local call timeout.</td></tr>
<tr><td valign="top"><a href="#mapred_bucket-3">mapred_bucket/3</a></td><td>Perform a MapReduce job against a bucket across the cluster.</td></tr>
<tr><td valign="top"><a href="#mapred_bucket-4">mapred_bucket/4</a></td><td>Perform a MapReduce job against a bucket with a timeout
       across the cluster.</td></tr>
<tr><td valign="top"><a href="#mapred_bucket-5">mapred_bucket/5</a></td><td>Perform a MapReduce job against a bucket with a timeout
       across the cluster and local call timeout.</td></tr>
<tr><td valign="top"><a href="#mapred_bucket_stream-5">mapred_bucket_stream/5</a></td><td>Perform a streaming MapReduce job against a bucket with a timeout
       across the cluster.</td></tr>
<tr><td valign="top"><a href="#mapred_bucket_stream-6">mapred_bucket_stream/6</a></td><td>(<em>Deprecated</em>.) Perform a streaming MapReduce job against a bucket with a server timeout
       across the cluster and a call timeout.</td></tr>
<tr><td valign="top"><a href="#mapred_stream-4">mapred_stream/4</a></td><td>Perform a streaming MapReduce job across the cluster sending results
       to ClientPid.</td></tr>
<tr><td valign="top"><a href="#mapred_stream-5">mapred_stream/5</a></td><td>Perform a streaming MapReduce job with a timeout across the cluster.</td></tr>
<tr><td valign="top"><a href="#mapred_stream-6">mapred_stream/6</a></td><td>(<em>Deprecated</em>.) Perform a streaming MapReduce job with a map/red timeout across the cluster,
       a local call timeout and sending results to ClientPid.</td></tr>
<tr><td valign="top"><a href="#modify_type-5">modify_type/5</a></td><td>Fetches, applies the given function to the value, and then
  updates the datatype in Riak.</td></tr>
<tr><td valign="top"><a href="#ping-1">ping/1</a></td><td>Ping the server.</td></tr>
<tr><td valign="top"><a href="#ping-2">ping/2</a></td><td>Ping the server specifying timeout.</td></tr>
<tr><td valign="top"><a href="#put-2">put/2</a></td><td>Put the metadata/value in the object under bucket/key.</td></tr>
<tr><td valign="top"><a href="#put-3">put/3</a></td><td>Put the metadata/value in the object under bucket/key with options or timeout.</td></tr>
<tr><td valign="top"><a href="#put-4">put/4</a></td><td>Put the metadata/value in the object under bucket/key with
       options and timeout.</td></tr>
<tr><td valign="top"><a href="#replace_coverage-3">replace_coverage/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#replace_coverage-4">replace_coverage/4</a></td><td></td></tr>
<tr><td valign="top"><a href="#reset_bucket-2">reset_bucket/2</a></td><td>Reset bucket properties back to the defaults.</td></tr>
<tr><td valign="top"><a href="#reset_bucket-3">reset_bucket/3</a></td><td>Reset bucket properties back to the defaults.</td></tr>
<tr><td valign="top"><a href="#reset_bucket-4">reset_bucket/4</a></td><td>(<em>Deprecated</em>.) Reset bucket properties back to the defaults.</td></tr>
<tr><td valign="top"><a href="#search-3">search/3</a></td><td>Execute a search query.</td></tr>
<tr><td valign="top"><a href="#search-4">search/4</a></td><td>Execute a search query.</td></tr>
<tr><td valign="top"><a href="#search-5">search/5</a></td><td>Execute a search query.</td></tr>
<tr><td valign="top"><a href="#search-6">search/6</a></td><td>(<em>Deprecated</em>.) Execute a search query.</td></tr>
<tr><td valign="top"><a href="#set_bucket-3">set_bucket/3</a></td><td>Set bucket properties.</td></tr>
<tr><td valign="top"><a href="#set_bucket-4">set_bucket/4</a></td><td>Set bucket properties specifying a server side timeout.</td></tr>
<tr><td valign="top"><a href="#set_bucket-5">set_bucket/5</a></td><td>(<em>Deprecated</em>.) Set bucket properties specifying a server side and local call timeout.</td></tr>
<tr><td valign="top"><a href="#set_bucket_type-3">set_bucket_type/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#set_bucket_type-4">set_bucket_type/4</a></td><td></td></tr>
<tr><td valign="top"><a href="#set_client_id-2">set_client_id/2</a></td><td>Set the client id for this connection.</td></tr>
<tr><td valign="top"><a href="#set_client_id-3">set_client_id/3</a></td><td>Set the client id for this connection specifying timeout.</td></tr>
<tr><td valign="top"><a href="#set_options-2">set_options/2</a></td><td>Change the options for this socket.</td></tr>
<tr><td valign="top"><a href="#set_options-3">set_options/3</a></td><td>Like set_options/2, but with a gen_server timeout.</td></tr>
<tr><td valign="top"><a href="#set_search_index-3">set_search_index/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#start-2">start/2</a></td><td>Create a process to talk with the riak server on Address:Port.</td></tr>
<tr><td valign="top"><a href="#start-3">start/3</a></td><td>Create a process to talk with the riak server on Address:Port with Options.</td></tr>
<tr><td valign="top"><a href="#start_link-2">start_link/2</a></td><td>Create a linked process to talk with the riak server on Address:Port
       Client id will be assigned by the server.</td></tr>
<tr><td valign="top"><a href="#start_link-3">start_link/3</a></td><td>Create a linked process to talk with the riak server on Address:Port with Options.</td></tr>
<tr><td valign="top"><a href="#stop-1">stop/1</a></td><td>Disconnect the socket and stop the process.</td></tr>
<tr><td valign="top"><a href="#stream_list_buckets-1">stream_list_buckets/1</a></td><td></td></tr>
<tr><td valign="top"><a href="#stream_list_buckets-2">stream_list_buckets/2</a></td><td></td></tr>
<tr><td valign="top"><a href="#stream_list_buckets-3">stream_list_buckets/3</a></td><td></td></tr>
<tr><td valign="top"><a href="#stream_list_keys-2">stream_list_keys/2</a></td><td>Stream list of keys in the bucket to the calling process.</td></tr>
<tr><td valign="top"><a href="#stream_list_keys-3">stream_list_keys/3</a></td><td>Stream list of keys in the bucket to the calling process specifying server side
       timeout.</td></tr>
<tr><td valign="top"><a href="#tunnel-4">tunnel/4</a></td><td>Send a pre-encoded msg over the protocol buffer connection
  Returns {ok, Response} or {error, Reason}.</td></tr>
<tr><td valign="top"><a href="#update_type-4">update_type/4</a></td><td>Updates the convergent datatype in Riak with local
  modifications stored in the container type.</td></tr>
<tr><td valign="top"><a href="#update_type-5">update_type/5</a></td><td>Updates the convergent datatype in Riak with local
  modifications stored in the container type, using the given request
  options.</td></tr>
</table>

<h2><a name="functions">Function Details</a></h2>

<h3 class="function"><a name="counter_incr-4">counter_incr/4</a></h3>
<div class="spec">
<p><tt>counter_incr(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, Amount::integer()) -&gt; ok</tt><br></p>
</div><p>increment the pre-Riak 2 counter at <code>bucket</code>, <code>key</code> by <code>amount</code></p>

<h3 class="function"><a name="counter_incr-5">counter_incr/5</a></h3>
<div class="spec">
<p><tt>counter_incr(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, Amount::integer(), Options::[<a href="#type-write_quorum">write_quorum()</a>]) -&gt; ok | {error, term()}</tt><br></p>
</div><p>increment the pre-Riak 2 counter at <code>Bucket</code>, <code>Key</code> by <code>Amount</code>.
  use the provided <code>write_quorum()</code> <code>Options</code> for the operation.
  A counter increment is a lot like a riak <code>put</code> so the semantics
  are the same for the given options.</p>

<h3 class="function"><a name="counter_val-3">counter_val/3</a></h3>
<div class="spec">
<p><tt>counter_val(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>) -&gt; {ok, integer()} | {error, notfound}</tt><br></p>
</div><p>get the current value of the pre-Riak 2 counter at <code>Bucket</code>, <code>Key</code>.</p>

<h3 class="function"><a name="counter_val-4">counter_val/4</a></h3>
<div class="spec">
<p><tt>counter_val(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, Options::[<a href="#type-read_quorum">read_quorum()</a>]) -&gt; {ok, integer()} | {error, term()}</tt><br></p>
</div><p>get the current value of the pre-Riak 2 counter at <code>Bucket</code>, <code>Key</code> using
  the <code>read_qurom()</code> <code>Options</code> provided.</p>

<h3 class="function"><a name="create_search_index-2">create_search_index/2</a></h3>
<div class="spec">
<p><tt>create_search_index(Pid::pid(), Index::binary()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Create a search index.</p>

<h3 class="function"><a name="create_search_index-3">create_search_index/3</a></h3>
<div class="spec">
<p><tt>create_search_index(Pid::pid(), Index::binary(), Timeout::timeout() | <a href="#type-search_admin_opts">search_admin_opts()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="create_search_index-4">create_search_index/4</a></h3>
<div class="spec">
<p><tt>create_search_index(Pid::pid(), Index::binary(), SchemaName::binary(), Timeout::timeout() | <a href="#type-search_admin_opts">search_admin_opts()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="create_search_schema-3">create_search_schema/3</a></h3>
<div class="spec">
<p><tt>create_search_schema(Pid::pid(), SchemaName::binary(), Content::binary()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Create a schema, which is a required component of an index.</p>

<h3 class="function"><a name="create_search_schema-4">create_search_schema/4</a></h3>
<div class="spec">
<p><tt>create_search_schema(Pid::pid(), SchemaName::binary(), Content::binary(), Opts::<a href="#type-search_admin_opts">search_admin_opts()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Create a schema, which is a required component of an index.</p>

<h3 class="function"><a name="cs_bucket_fold-3">cs_bucket_fold/3</a></h3>
<div class="spec">
<p><tt>cs_bucket_fold(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Opts::<a href="#type-cs_opts">cs_opts()</a>) -&gt; {ok, reference()} | {error, term()}</tt><br></p>
</div><p>secret function, do not use, or I come to your house and keeel you.</p>

<h3 class="function"><a name="default_timeout-1">default_timeout/1</a></h3>
<div class="spec">
<p><tt>default_timeout(OpTimeout::<a href="#type-timeout_name">timeout_name()</a>) -&gt; timeout()</tt><br></p>
</div><p>Return the default timeout for an operation if none is provided.
       Falls back to the default timeout.</p>

<h3 class="function"><a name="delete-3">delete/3</a></h3>
<div class="spec">
<p><tt>delete(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#delete-4"><tt>delete(Pid, Bucket, Key, [])</tt></a>.</p>
<p>Delete the key/value</p>

<h3 class="function"><a name="delete-4">delete/4</a></h3>
<div class="spec">
<p><tt>delete(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, TimeoutOrOptions::timeout() | <a href="#type-delete_options">delete_options()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#delete-5"><tt>delete(Pid, Bucket, Key, Options, Timeout)</tt></a>.</p>
<p>Delete the key/value specifying timeout or options. <em>Note that the rw quorum is deprecated, use r and w.</em></p>

<h3 class="function"><a name="delete-5">delete/5</a></h3>
<div class="spec">
<p><tt>delete(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, Options::<a href="#type-delete_options">delete_options()</a>, Timeout::timeout()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Delete the key/value with options and timeout. <em>Note that the rw quorum is deprecated, use r and w.</em></p>

<h3 class="function"><a name="delete_obj-2">delete_obj/2</a></h3>
<div class="spec">
<p><tt>delete_obj(Pid::pid(), Obj::<a href="#type-riakc_obj">riakc_obj()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#delete_vclock-4"><tt>delete_vclock(Pid, riakc_obj:bucket(Obj),
	      riakc_obj:key(Obj), riakc_obj:vclock(Obj))</tt></a>.</p>
<p>Delete the riak object.</p>
<p><b>See also:</b> <a href="#delete_vclock-6">delete_vclock/6</a>.</p>

<h3 class="function"><a name="delete_obj-3">delete_obj/3</a></h3>
<div class="spec">
<p><tt>delete_obj(Pid::pid(), Obj::<a href="#type-riakc_obj">riakc_obj()</a>, Options::<a href="#type-delete_options">delete_options()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#delete_vclock-5"><tt>delete_vclock(Pid, riakc_obj:bucket(Obj),
	      riakc_obj:key(Obj), riakc_obj:vclock(Obj), Options)</tt></a>.</p>
<p>Delete the riak object with options.</p>
<p><b>See also:</b> <a href="#delete_vclock-6">delete_vclock/6</a>.</p>

<h3 class="function"><a name="delete_obj-4">delete_obj/4</a></h3>
<div class="spec">
<p><tt>delete_obj(Pid::pid(), Obj::<a href="#type-riakc_obj">riakc_obj()</a>, Options::<a href="#type-delete_options">delete_options()</a>, Timeout::timeout()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#delete_vclock-6"><tt>delete_vclock(Pid, riakc_obj:bucket(Obj),
	      riakc_obj:key(Obj), riakc_obj:vclock(Obj), Options,
	      Timeout)</tt></a>.</p>
<p>Delete the riak object with options and timeout.</p>
<p><b>See also:</b> <a href="#delete_vclock-6">delete_vclock/6</a>.</p>

<h3 class="function"><a name="delete_search_index-2">delete_search_index/2</a></h3>
<div class="spec">
<p><tt>delete_search_index(Pid::pid(), Index::binary()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Delete a search index.</p>

<h3 class="function"><a name="delete_search_index-3">delete_search_index/3</a></h3>
<div class="spec">
<p><tt>delete_search_index(Pid::pid(), Index::binary(), Opts::<a href="#type-search_admin_opts">search_admin_opts()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Delete a search index.</p>

<h3 class="function"><a name="delete_vclock-4">delete_vclock/4</a></h3>
<div class="spec">
<p><tt>delete_vclock(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, VClock::<a href="riakc_obj.html#type-vclock">riakc_obj:vclock()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#delete_vclock-5"><tt>delete_vclock(Pid, Bucket, Key, VClock, [])</tt></a>.</p>
<p>Delete the object at Bucket/Key, giving the vector clock.</p>

<h3 class="function"><a name="delete_vclock-5">delete_vclock/5</a></h3>
<div class="spec">
<p><tt>delete_vclock(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, VClock::<a href="riakc_obj.html#type-vclock">riakc_obj:vclock()</a>, TimeoutOrOptions::timeout() | <a href="#type-delete_options">delete_options()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#delete_vclock-6"><tt>delete_vclock(Pid, Bucket, Key, VClock, Options,
	      Timeout)</tt></a>.</p>
<p>Delete the object at Bucket/Key, specifying timeout or options and giving the vector clock.</p>

<h3 class="function"><a name="delete_vclock-6">delete_vclock/6</a></h3>
<div class="spec">
<p><tt>delete_vclock(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, VClock::<a href="riakc_obj.html#type-vclock">riakc_obj:vclock()</a>, Options::<a href="#type-delete_options">delete_options()</a>, Timeout::timeout()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Delete the key/value with options and timeout and giving the
  vector clock. This form of delete ensures that subsequent get and
  put requests will be correctly ordered with the delete.</p>
<p><b>See also:</b> <a href="#delete_obj-4">delete_obj/4</a>.</p>

<h3 class="function"><a name="fetch_type-3">fetch_type/3</a></h3>
<div class="spec">
<p><tt>fetch_type(Pid::pid(), BucketAndType::<a href="#type-bucket_and_type">bucket_and_type()</a>, Key::binary()) -&gt; {ok, <a href="riakc_datatype.html#type-datatype">riakc_datatype:datatype()</a>} | {error, term()}</tt><br></p>
</div><p>Fetches the representation of a convergent datatype from Riak.</p>

<h3 class="function"><a name="fetch_type-4">fetch_type/4</a></h3>
<div class="spec">
<p><tt>fetch_type(Pid::pid(), BucketAndType::<a href="#type-bucket_and_type">bucket_and_type()</a>, Key::binary(), Options::[<a href="proplists.html#type-property">proplists:property()</a>]) -&gt; {ok, <a href="riakc_datatype.html#type-datatype">riakc_datatype:datatype()</a>} | {error, term()}</tt><br></p>
</div><p>Fetches the representation of a convergent datatype from Riak,
  using the given request options.</p>

<h3 class="function"><a name="get-3">get/3</a></h3>
<div class="spec">
<p><tt>get(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>) -&gt; {ok, <a href="#type-riakc_obj">riakc_obj()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#get-5"><tt>get(Pid, Bucket, Key, [], default_timeout(get_timeout))</tt></a>.</p>
<p>Get bucket/key from the server.
       Will return {error, notfound} if the key is not on the server.</p>

<h3 class="function"><a name="get-4">get/4</a></h3>
<div class="spec">
<p><tt>get(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, TimeoutOrOptions::timeout() | <a href="#type-get_options">get_options()</a>) -&gt; {ok, <a href="#type-riakc_obj">riakc_obj()</a>} | {error, term()} | unchanged</tt><br></p>
</div><p>Equivalent to <a href="#get-5"><tt>get(Pid, Bucket, Key, Options, Timeout)</tt></a>.</p>
<p>Get bucket/key from the server specifying timeout.
       Will return {error, notfound} if the key is not on the server.</p>

<h3 class="function"><a name="get-5">get/5</a></h3>
<div class="spec">
<p><tt>get(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, Options::<a href="#type-get_options">get_options()</a>, Timeout::timeout()) -&gt; {ok, <a href="#type-riakc_obj">riakc_obj()</a>} | {error, term()} | unchanged</tt><br></p>
</div><p>Get bucket/key from the server supplying options and timeout.
       <code>unchanged</code> will be returned when the
       <code>{if_modified, Vclock}</code> option is specified and the
       object is unchanged.</p>

<h3 class="function"><a name="get_bucket-2">get_bucket/2</a></h3>
<div class="spec">
<p><tt>get_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>) -&gt; {ok, <a href="#type-bucket_props">bucket_props()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#get_bucket-3"><tt>get_bucket(Pid, Bucket,
	   default_timeout(get_bucket_timeout))</tt></a>.</p>
<p>Get bucket properties.</p>

<h3 class="function"><a name="get_bucket-3">get_bucket/3</a></h3>
<div class="spec">
<p><tt>get_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Timeout::timeout()) -&gt; {ok, <a href="#type-bucket_props">bucket_props()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#get_bucket-4"><tt>get_bucket(Pid, Bucket, Timeout,
	   default_timeout(get_bucket_call_timeout))</tt></a>.</p>
<p>Get bucket properties specifying a server side timeout.</p>

<h3 class="function"><a name="get_bucket-4">get_bucket/4</a></h3>
<div class="spec">
<p><tt>get_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Timeout::timeout(), CallTimeout::timeout()) -&gt; {ok, <a href="#type-bucket_props">bucket_props()</a>} | {error, term()}</tt><br></p>
</div><p><b>This function is deprecated:</b> because <code>CallTimeout</code> is ignored</p>
<p>Get bucket properties specifying a server side and local call timeout.</p>

<h3 class="function"><a name="get_bucket_type-2">get_bucket_type/2</a></h3>
<div class="spec">
<p><tt>get_bucket_type(Pid, BucketType) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="get_bucket_type-3">get_bucket_type/3</a></h3>
<div class="spec">
<p><tt>get_bucket_type(Pid, BucketType, Timeout) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="get_client_id-1">get_client_id/1</a></h3>
<div class="spec">
<p><tt>get_client_id(Pid::pid()) -&gt; {ok, <a href="#type-client_id">client_id()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#get_client_id-2"><tt>get_client_id(Pid,
	      default_timeout(get_client_id_timeout))</tt></a>.</p>
<p>Get the client id for this connection</p>

<h3 class="function"><a name="get_client_id-2">get_client_id/2</a></h3>
<div class="spec">
<p><tt>get_client_id(Pid::pid(), Timeout::timeout()) -&gt; {ok, <a href="#type-client_id">client_id()</a>} | {error, term()}</tt><br></p>
</div><p>Get the client id for this connection specifying timeout</p>

<h3 class="function"><a name="get_coverage-2">get_coverage/2</a></h3>
<div class="spec">
<p><tt>get_coverage(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a>) -&gt; {ok, term()} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#get_coverage-3"><tt>get_coverage(Pid, Bucket, undefined)</tt></a>.</p>
<p>Get minimal coverage plan</p>

<h3 class="function"><a name="get_coverage-3">get_coverage/3</a></h3>
<div class="spec">
<p><tt>get_coverage(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a>, MinPartitions::undefined | non_neg_integer()) -&gt; {ok, term()} | {error, term()}</tt><br></p>
</div><p>Get parallel coverage plan if 3rd argument is &gt;= 0</p>

<h3 class="function"><a name="get_index-4">get_index/4</a></h3>
<div class="spec">
<p><tt>get_index(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Index::binary() | <a href="#type-secondary_index_id">secondary_index_id()</a>, Key::<a href="#type-key">key()</a> | integer()) -&gt; {ok, <a href="#type-index_results">index_results()</a>} | {error, term()}</tt><br></p>
</div><p><b>This function is deprecated:</b> use <a href="#get_index_eq-4"><code>get_index_eq/4</code></a></p>
<p>Execute a secondary index equality query.
 </p>
<p><b>See also:</b> <a href="#get_index_eq-4">get_index_eq/4</a>.</p>

<h3 class="function"><a name="get_index-5">get_index/5</a></h3>
<div class="spec">
<p><tt>get_index(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a>, Index::binary() | <a href="#type-secondary_index_id">secondary_index_id()</a>, StartKey::<a href="#type-key">key()</a> | integer(), EndKey::<a href="#type-key">key()</a> | integer()) -&gt; {ok, <a href="#type-index_results">index_results()</a>} | {error, term()}</tt><br></p>
</div><p><b>This function is deprecated:</b> use <a href="#get_index_range-5"><code>get_index_range/5</code></a></p>
<p>Execute a secondary index range query.
 </p>
<p><b>See also:</b> <a href="#get_index_range-5">get_index_range/5</a>.</p>

<h3 class="function"><a name="get_index-6">get_index/6</a></h3>
<div class="spec">
<p><tt>get_index(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Index::binary() | <a href="#type-secondary_index_id">secondary_index_id()</a>, Key::<a href="#type-key">key()</a> | integer(), Timeout::timeout(), CallTimeout::timeout()) -&gt; {ok, <a href="#type-index_results">index_results()</a>} | {error, term()}</tt><br></p>
</div><p><b>This function is deprecated:</b> use <a href="#get_index_eq-5"><code>get_index_eq/5</code></a></p>
<p>Execute a secondary index equality query with specified
  timeouts.
 </p>
<p><b>See also:</b> <a href="#get_index_eq-5">get_index_eq/5</a>.</p>

<h3 class="function"><a name="get_index-7">get_index/7</a></h3>
<div class="spec">
<p><tt>get_index(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Index::binary() | <a href="#type-secondary_index_id">secondary_index_id()</a>, StartKey::<a href="#type-key">key()</a> | integer() | list(), EndKey::<a href="#type-key">key()</a> | integer() | list(), Timeout::timeout(), CallTimeout::timeout()) -&gt; {ok, <a href="#type-index_results">index_results()</a>} | {error, term()}</tt><br></p>
</div><p><b>This function is deprecated:</b> use <a href="#get_index_range-6"><code>get_index_range/6</code></a></p>
<p>Execute a secondary index range query with specified
  timeouts.
 </p>
<p><b>See also:</b> <a href="#get_index_range-6">get_index_range/6</a>.</p>

<h3 class="function"><a name="get_index_eq-4">get_index_eq/4</a></h3>
<div class="spec">
<p><tt>get_index_eq(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Index::binary() | <a href="#type-secondary_index_id">secondary_index_id()</a>, Key::<a href="#type-key">key()</a> | integer()) -&gt; {ok, <a href="#type-index_results">index_results()</a>} | {error, term()}</tt><br></p>
</div><p>Execute a secondary index equality query.
  equivalent to all defaults for the options.</p>
<p><b>See also:</b> <a href="#get_index_eq-5">for options and their effect</a>.</p>

<h3 class="function"><a name="get_index_eq-5">get_index_eq/5</a></h3>
<div class="spec">
<p><tt>get_index_eq(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Index::binary() | <a href="#type-secondary_index_id">secondary_index_id()</a>, Key::<a href="#type-key">key()</a> | integer(), Opts::<a href="#type-index_opts">index_opts()</a>) -&gt; {ok, <a href="#type-index_results">index_results()</a>} | {error, term()}</tt><br></p>
</div><p>Execute a secondary index equality query with specified options
  <dl>
  <dt>timeout:</dt> <dd>milliseconds to wait for a response from riak</dd>
  <dt>stream:</dt> <dd> true | false. Stream results to calling process</dd>
  <dt>continuation:</dt> <dd> The opaque, binary continuation returned from a previous query.
                              Requests the next results.</dd>
  <dt>max_results:</dt> <dd>Positive integer, maximum number of results to return.
                            Expect a <code>continuation</code> in the response if this option is used.</dd>
  </dl></p>

<h3 class="function"><a name="get_index_range-5">get_index_range/5</a></h3>
<div class="spec">
<p><tt>get_index_range(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Index::binary() | <a href="#type-secondary_index_id">secondary_index_id()</a>, StartKey::<a href="#type-key">key()</a> | integer(), EndKey::<a href="#type-key">key()</a> | integer()) -&gt; {ok, <a href="#type-index_results">index_results()</a>} | {error, term()}</tt><br></p>
</div><p>Execute a secondary index range query.</p>

<h3 class="function"><a name="get_index_range-6">get_index_range/6</a></h3>
<div class="spec">
<p><tt>get_index_range(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Index::binary() | <a href="#type-secondary_index_id">secondary_index_id()</a>, StartKey::<a href="#type-key">key()</a> | integer() | list(), EndKey::<a href="#type-key">key()</a> | integer() | list(), Opts::<a href="#type-range_index_opts">range_index_opts()</a>) -&gt; {ok, <a href="#type-index_results">index_results()</a>} | {error, term()}</tt><br></p>
</div><p>Execute a secondary index range query with specified options.
  As well as the options documented for <code>get_index_eq/5</code>, there is a further options
  <code>{return_terms, boolean{}</code>. When <code>true</code> the indexed values will be returned
  as well as the primary key. The formt of the returned values is
  <code>{results, [{value, primary_key}]}</code></p>
<p><b>See also:</b> <a href="#get_index_eq-5">for effect of options.</a>.</p>

<h3 class="function"><a name="get_preflist-3">get_preflist/3</a></h3>
<div class="spec">
<p><tt>get_preflist(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>) -&gt; {ok, <a href="#type-preflist">preflist()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#get_preflist-4"><tt>get_preflist(Pid, Bucket, Key,
	     default_timeout(get_preflist_timeout))</tt></a>.</p>
<p>Get active preflist.</p>

<h3 class="function"><a name="get_preflist-4">get_preflist/4</a></h3>
<div class="spec">
<p><tt>get_preflist(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Key::<a href="#type-key">key()</a>, Timeout::timeout()) -&gt; {ok, <a href="#type-preflist">preflist()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#get_preflist-4"><tt>get_preflist(Pid, Bucket, Key,
	     default_timeout(get_preflist_timeout))</tt></a>.</p>
<p>Get active preflist specifying a server side timeout.</p>

<h3 class="function"><a name="get_search_index-2">get_search_index/2</a></h3>
<div class="spec">
<p><tt>get_search_index(Pid::pid(), Index::binary()) -&gt; {ok, <a href="#type-search_index">search_index()</a>} | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="get_search_index-3">get_search_index/3</a></h3>
<div class="spec">
<p><tt>get_search_index(Pid::pid(), Index::binary(), Opts::<a href="#type-search_admin_opts">search_admin_opts()</a>) -&gt; {ok, <a href="#type-search_index">search_index()</a>} | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="get_search_schema-2">get_search_schema/2</a></h3>
<div class="spec">
<p><tt>get_search_schema(Pid::pid(), SchemaName::binary()) -&gt; {ok, <a href="#type-search_schema">search_schema()</a>} | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="get_search_schema-3">get_search_schema/3</a></h3>
<div class="spec">
<p><tt>get_search_schema(Pid::pid(), SchemaName::binary(), Opts::<a href="#type-search_admin_opts">search_admin_opts()</a>) -&gt; {ok, <a href="#type-search_schema">search_schema()</a>} | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="get_server_info-1">get_server_info/1</a></h3>
<div class="spec">
<p><tt>get_server_info(Pid::pid()) -&gt; {ok, <a href="#type-server_info">server_info()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#get_server_info-2"><tt>get_server_info(Pid,
		default_timeout(get_server_info_timeout))</tt></a>.</p>
<p>Get the server information for this connection</p>

<h3 class="function"><a name="get_server_info-2">get_server_info/2</a></h3>
<div class="spec">
<p><tt>get_server_info(Pid::pid(), Timeout::timeout()) -&gt; {ok, <a href="#type-server_info">server_info()</a>} | {error, term()}</tt><br></p>
</div><p>Get the server information for this connection specifying timeout</p>

<h3 class="function"><a name="is_connected-1">is_connected/1</a></h3>
<div class="spec">
<p><tt>is_connected(Pid::pid()) -&gt; true | {false, [<a href="#type-connection_failure">connection_failure()</a>]}</tt><br></p>
</div><p>Equivalent to <a href="#is_connected-2"><tt>is_connected(Pid, infinity)</tt></a>.</p>
<p>Determines whether the client is connected. Returns true if
  connected, or false and a list of connection failures and frequencies if
  disconnected.</p>

<h3 class="function"><a name="is_connected-2">is_connected/2</a></h3>
<div class="spec">
<p><tt>is_connected(Pid::pid(), Timeout::timeout()) -&gt; true | {false, [<a href="#type-connection_failure">connection_failure()</a>]}</tt><br></p>
</div><p>Determines whether the client is connected, with the specified
  timeout to the client process. Returns true if connected, or false
  and a list of connection failures and frequencies if disconnected.</p>
<p><b>See also:</b> <a href="#is_connected-1">is_connected/1</a>.</p>

<h3 class="function"><a name="legacy_list_buckets-2">legacy_list_buckets/2</a></h3>
<div class="spec">
<p><tt>legacy_list_buckets(Pid, Options) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="list_buckets-1">list_buckets/1</a></h3>
<div class="spec">
<p><tt>list_buckets(Pid::pid()) -&gt; {ok, [<a href="#type-bucket">bucket()</a>]} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#list_buckets-2"><tt>list_buckets(Pid, default_timeout(list_buckets_timeout))</tt></a>.</p>
<p>List all buckets on the server in the "default" bucket type.
  <em>This is a potentially expensive operation and should not be used in production.</em></p>

<h3 class="function"><a name="list_buckets-2">list_buckets/2</a></h3>
<div class="spec">
<p><tt>list_buckets(Pid::pid(), Type::timeout() | list() | binary()) -&gt; {ok, [<a href="#type-bucket">bucket()</a>]} | {error, term()}</tt><br></p>
</div><p>List all buckets in a bucket type, specifying server-side timeout.
  <em>This is a potentially expensive operation and should not be used in production.</em></p>

<h3 class="function"><a name="list_buckets-3">list_buckets/3</a></h3>
<div class="spec">
<p><tt>list_buckets(Pid, Type, Options) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="list_keys-2">list_keys/2</a></h3>
<div class="spec">
<p><tt>list_keys(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>) -&gt; {ok, [<a href="#type-key">key()</a>]} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#list_keys-3"><tt>list_keys(Pid, Bucket,
	  default_timeout(list_keys_timeout))</tt></a>.</p>
<p>List all keys in a bucket
  <em>This is a potentially expensive operation and should not be used in production.</em></p>

<h3 class="function"><a name="list_keys-3">list_keys/3</a></h3>
<div class="spec">
<p><tt>list_keys(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Timeout::list() | timeout()) -&gt; {ok, [<a href="#type-key">key()</a>]} | {error, term()}</tt><br></p>
</div><p>List all keys in a bucket specifying timeout. This is
  implemented using <a href="#stream_list_keys-3"><code>stream_list_keys/3</code></a> and then waiting for
  the results to complete streaming.
  <em>This is a potentially expensive operation and should not be used in production.</em></p>

<h3 class="function"><a name="list_search_indexes-1">list_search_indexes/1</a></h3>
<div class="spec">
<p><tt>list_search_indexes(Pid::pid()) -&gt; {ok, [<a href="#type-search_index">search_index()</a>]} | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="list_search_indexes-2">list_search_indexes/2</a></h3>
<div class="spec">
<p><tt>list_search_indexes(Pid::pid(), Opts::<a href="#type-search_admin_opts">search_admin_opts()</a>) -&gt; {ok, [<a href="#type-search_index">search_index()</a>]} | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="mapred-3">mapred/3</a></h3>
<div class="spec">
<p><tt>mapred(Pid::pid(), Inputs::<a href="#type-mapred_inputs">mapred_inputs()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>]) -&gt; {ok, <a href="#type-mapred_result">mapred_result()</a>} | {error, {badqterm, <a href="#type-mapred_queryterm">mapred_queryterm()</a>}} | {error, timeout} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#mapred-3"><tt>mapred(Inputs, Query, default_timeout(mapred))</tt></a>.</p>
<p>Perform a MapReduce job across the cluster.
       See the MapReduce documentation for explanation of behavior.</p>

<h3 class="function"><a name="mapred-4">mapred/4</a></h3>
<div class="spec">
<p><tt>mapred(Pid::pid(), Inputs::<a href="#type-mapred_inputs">mapred_inputs()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>], Timeout::timeout()) -&gt; {ok, <a href="#type-mapred_result">mapred_result()</a>} | {error, {badqterm, <a href="#type-mapred_queryterm">mapred_queryterm()</a>}} | {error, timeout} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#mapred-5"><tt>mapred(Pid, Inputs, Query, Timeout,
       default_timeout(mapred_call_timeout))</tt></a>.</p>
<p>Perform a MapReduce job across the cluster with a job timeout.
       See the MapReduce documentation for explanation of behavior.</p>

<h3 class="function"><a name="mapred-5">mapred/5</a></h3>
<div class="spec">
<p><tt>mapred(Pid::pid(), Inputs::<a href="#type-mapred_inputs">mapred_inputs()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>], Timeout::timeout(), CallTimeout::timeout()) -&gt; {ok, <a href="#type-mapred_result">mapred_result()</a>} | {error, {badqterm, <a href="#type-mapred_queryterm">mapred_queryterm()</a>}} | {error, timeout} | {error, term()}</tt><br></p>
</div><p>Perform a MapReduce job across the cluster with a job and
       local call timeout.  See the MapReduce documentation for
       explanation of behavior. This is implemented by using
       <code>mapred_stream/6</code> and then waiting for all results.</p>
<p><b>See also:</b> <a href="#mapred_stream-6">mapred_stream/6</a>.</p>

<h3 class="function"><a name="mapred_bucket-3">mapred_bucket/3</a></h3>
<div class="spec">
<p><tt>mapred_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>]) -&gt; {ok, <a href="#type-mapred_result">mapred_result()</a>} | {error, {badqterm, <a href="#type-mapred_queryterm">mapred_queryterm()</a>}} | {error, timeout} | {error, Err::term()}</tt><br></p>
</div><p>Equivalent to <a href="#mapred_bucket-4"><tt>mapred_bucket(Pid, Bucket, Query,
	      default_timeout(mapred_bucket_timeout))</tt></a>.</p>
<p>Perform a MapReduce job against a bucket across the cluster.
       See the MapReduce documentation for explanation of behavior.
  <em>This uses list_keys under the hood and so is potentially an expensive operation that should not be used in production.</em></p>

<h3 class="function"><a name="mapred_bucket-4">mapred_bucket/4</a></h3>
<div class="spec">
<p><tt>mapred_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>], Timeout::timeout()) -&gt; {ok, <a href="#type-mapred_result">mapred_result()</a>} | {error, {badqterm, <a href="#type-mapred_queryterm">mapred_queryterm()</a>}} | {error, timeout} | {error, Err::term()}</tt><br></p>
</div><p>Equivalent to <a href="#mapred_bucket-5"><tt>mapred_bucket(Pid, Bucket, Query, Timeout,
	      default_timeout(mapred_bucket_call_timeout))</tt></a>.</p>
<p>Perform a MapReduce job against a bucket with a timeout
       across the cluster.
       See the MapReduce documentation for explanation of behavior.
  <em>This uses list_keys under the hood and so is potentially an expensive operation that should not be used in production.</em></p>

<h3 class="function"><a name="mapred_bucket-5">mapred_bucket/5</a></h3>
<div class="spec">
<p><tt>mapred_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>], Timeout::timeout(), CallTimeout::timeout()) -&gt; {ok, <a href="#type-mapred_result">mapred_result()</a>} | {error, {badqterm, <a href="#type-mapred_queryterm">mapred_queryterm()</a>}} | {error, timeout} | {error, Err::term()}</tt><br></p>
</div><p>Perform a MapReduce job against a bucket with a timeout
       across the cluster and local call timeout.
       See the MapReduce documentation for explanation of behavior.
  <em>This uses list_keys under the hood and so is potentially an expensive operation that should not be used in production.</em></p>

<h3 class="function"><a name="mapred_bucket_stream-5">mapred_bucket_stream/5</a></h3>
<div class="spec">
<p><tt>mapred_bucket_stream(ConnectionPid::pid(), Bucket::<a href="#type-bucket">bucket()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>], ClientPid::pid(), Timeout::timeout()) -&gt; {ok, <a href="#type-req_id">req_id()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#mapred_bucket_stream-6"><tt>mapred_bucket_stream(Pid, Bucket, Query, ClientPid,
		     Timeout,
		     default_timeout(mapred_bucket_stream_call_timeout))</tt></a>.</p>
<p>Perform a streaming MapReduce job against a bucket with a timeout
       across the cluster.
       See the MapReduce documentation for explanation of behavior.
  <em>This uses list_keys under the hood and so is potentially an expensive operation that should not be used in production.</em>
       The ClientPid will receive messages in this format:
  <pre>       {ReqId::req_id(), {mapred, Phase::non_neg_integer(), mapred_result()}}
       {ReqId::req_id(), done}</pre></p>

<h3 class="function"><a name="mapred_bucket_stream-6">mapred_bucket_stream/6</a></h3>
<div class="spec">
<p><tt>mapred_bucket_stream(ConnectionPid::pid(), Bucket::<a href="#type-bucket">bucket()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>], ClientPid::pid(), Timeout::timeout(), CallTimeout::timeout()) -&gt; {ok, <a href="#type-req_id">req_id()</a>} | {error, term()}</tt><br></p>
</div><p><b>This function is deprecated:</b> because <code>CallTimeout</code> is ignored</p>
<p>Perform a streaming MapReduce job against a bucket with a server timeout
       across the cluster and a call timeout.
       See the MapReduce documentation for explanation of behavior.
  <em>This uses list_keys under the hood and so is potentially an expensive operation that should not be used in production.</em>
       The ClientPid will receive messages in this format:
  <pre>       {ReqId::req_id(), {mapred, Phase::non_neg_integer(), mapred_result()}}
       {ReqId::req_id(), done}</pre></p>

<h3 class="function"><a name="mapred_stream-4">mapred_stream/4</a></h3>
<div class="spec">
<p><tt>mapred_stream(ConnectionPid::pid(), Inputs::<a href="#type-mapred_inputs">mapred_inputs()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>], ClientPid::pid()) -&gt; {ok, <a href="#type-req_id">req_id()</a>} | {error, {badqterm, <a href="#type-mapred_queryterm">mapred_queryterm()</a>}} | {error, timeout} | {error, Err::term()}</tt><br></p>
</div><p>Equivalent to <a href="#mapred_stream-5"><tt>mapred_stream(ConnectionPid, Inputs, Query, ClientPid,
	      default_timeout(mapred_stream_timeout))</tt></a>.</p>
<p>Perform a streaming MapReduce job across the cluster sending results
       to ClientPid.
       See the MapReduce documentation for explanation of behavior.
       The ClientPid will receive messages in this format:
  <pre>       {ReqId::req_id(), {mapred, Phase::non_neg_integer(), mapred_result()}}
       {ReqId::req_id(), done}</pre></p>

<h3 class="function"><a name="mapred_stream-5">mapred_stream/5</a></h3>
<div class="spec">
<p><tt>mapred_stream(ConnectionPid::pid(), Inputs::<a href="#type-mapred_inputs">mapred_inputs()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>], ClientPid::pid(), Timeout::timeout()) -&gt; {ok, <a href="#type-req_id">req_id()</a>} | {error, {badqterm, <a href="#type-mapred_queryterm">mapred_queryterm()</a>}} | {error, timeout} | {error, Err::term()}</tt><br></p>
</div><p>Equivalent to <a href="#mapred_stream-6"><tt>mapred_stream(ConnectionPid, Inputs, Query, ClientPid,
	      Timeout, default_timeout(mapred_stream_call_timeout))</tt></a>.</p>
<p>Perform a streaming MapReduce job with a timeout across the cluster.
       sending results to ClientPid.
       See the MapReduce documentation for explanation of behavior.
       The ClientPid will receive messages in this format:
  <pre>       {ReqId::req_id(), {mapred, Phase::non_neg_integer(), mapred_result()}}
       {ReqId::req_id(), done}</pre></p>

<h3 class="function"><a name="mapred_stream-6">mapred_stream/6</a></h3>
<div class="spec">
<p><tt>mapred_stream(ConnectionPid::pid(), Inputs::<a href="#type-mapred_inputs">mapred_inputs()</a>, Query::[<a href="#type-mapred_queryterm">mapred_queryterm()</a>], ClientPid::pid(), Timeout::timeout(), CallTimeout::timeout()) -&gt; {ok, <a href="#type-req_id">req_id()</a>} | {error, {badqterm, <a href="#type-mapred_queryterm">mapred_queryterm()</a>}} | {error, timeout} | {error, Err::term()}</tt><br></p>
</div><p><b>This function is deprecated:</b> because <code>CallTimeout</code> is ignored</p>
<p>Perform a streaming MapReduce job with a map/red timeout across the cluster,
       a local call timeout and sending results to ClientPid.
       See the MapReduce documentation for explanation of behavior.
       The ClientPid will receive messages in this format:
  <pre>       {ReqId::req_id(), {mapred, Phase::non_neg_integer(), mapred_result()}}
       {ReqId::req_id(), done}</pre></p>

<h3 class="function"><a name="modify_type-5">modify_type/5</a></h3>
<div class="spec">
<p><tt>modify_type(Pid::pid(), Fun::fun((<a href="riakc_datatype.html#type-datatype">riakc_datatype:datatype()</a>) -&gt; <a href="riakc_datatype.html#type-datatype">riakc_datatype:datatype()</a>), BucketAndType::<a href="#type-bucket_and_type">bucket_and_type()</a>, Key::binary(), ModifyOptions::[<a href="proplists.html#type-property">proplists:property()</a>]) -&gt; ok | {ok, <a href="riakc_datatype.html#type-datatype">riakc_datatype:datatype()</a>} | {error, term()}</tt><br></p>
</div><p>Fetches, applies the given function to the value, and then
  updates the datatype in Riak. If an existing value is not found,
  but you want the updates to apply anyway, use the 'create' option.</p>

<h3 class="function"><a name="ping-1">ping/1</a></h3>
<div class="spec">
<p><tt>ping(Pid::pid()) -&gt; pong</tt><br></p>
</div><p>Equivalent to <a href="#ping-2"><tt>ping(Pid, default_timeout(ping_timeout))</tt></a>.</p>
<p>Ping the server</p>

<h3 class="function"><a name="ping-2">ping/2</a></h3>
<div class="spec">
<p><tt>ping(Pid::pid(), Timeout::timeout()) -&gt; pong</tt><br></p>
</div><p>Ping the server specifying timeout</p>

<h3 class="function"><a name="put-2">put/2</a></h3>
<div class="spec">
<p><tt>put(Pid::pid(), Obj::<a href="#type-riakc_obj">riakc_obj()</a>) -&gt; ok | {ok, <a href="#type-riakc_obj">riakc_obj()</a>} | {ok, <a href="#type-key">key()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#put-3"><tt>put(Pid, Obj, [])</tt></a>.</p>
<p>Put the metadata/value in the object under bucket/key</p>
<p><b>See also:</b> <a href="#put-4">put/4</a>.</p>

<h3 class="function"><a name="put-3">put/3</a></h3>
<div class="spec">
<p><tt>put(Pid::pid(), Obj::<a href="#type-riakc_obj">riakc_obj()</a>, TimeoutOrOptions::timeout() | <a href="#type-put_options">put_options()</a>) -&gt; ok | {ok, <a href="#type-riakc_obj">riakc_obj()</a>} | <a href="#type-riakc_obj">riakc_obj()</a> | {ok, <a href="#type-key">key()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#put-4"><tt>put(Pid, Obj, Options, Timeout)</tt></a>.</p>
<p>Put the metadata/value in the object under bucket/key with options or timeout.</p>
<p><b>See also:</b> <a href="#put-4">put/4</a>.</p>

<h3 class="function"><a name="put-4">put/4</a></h3>
<div class="spec">
<p><tt>put(Pid::pid(), Obj::<a href="#type-riakc_obj">riakc_obj()</a>, Options::<a href="#type-put_options">put_options()</a>, Timeout::timeout()) -&gt; ok | {ok, <a href="#type-riakc_obj">riakc_obj()</a>} | <a href="#type-riakc_obj">riakc_obj()</a> | {ok, <a href="#type-key">key()</a>} | {error, term()}</tt><br></p>
</div><p>throws <tt>siblings</tt></p>
<p>Put the metadata/value in the object under bucket/key with
       options and timeout. Put throws <code>siblings</code> if the
       riakc_obj contains siblings that have not been resolved by
       calling <a href="riakc_obj.html#select_sibling-2"><code>riakc_obj:select_sibling/2</code></a> or <a href="riakc_obj.html#update_value-2"><code>riakc_obj:update_value/2</code></a> and <a href="riakc_obj.html#update_metadata-2"><code>riakc_obj:update_metadata/2</code></a>.  If the object has no key and
       the Riak node supports it, <code>{ok, Key::key()}</code> will be returned
       when the object is created, or <code>{ok, Obj::riakc_obj()}</code> if
       <code>return_body</code> was specified.</p>

<h3 class="function"><a name="replace_coverage-3">replace_coverage/3</a></h3>
<div class="spec">
<p><tt>replace_coverage(Pid, Bucket, Cover) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="replace_coverage-4">replace_coverage/4</a></h3>
<div class="spec">
<p><tt>replace_coverage(Pid, Bucket, Cover, Other) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="reset_bucket-2">reset_bucket/2</a></h3>
<div class="spec">
<p><tt>reset_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#reset_bucket-4"><tt>reset_bucket(Pid, Bucket,
	     default_timeout(reset_bucket_timeout),
	     default_timeout(reset_bucket_call_timeout))</tt></a>.</p>
<p>Reset bucket properties back to the defaults.</p>

<h3 class="function"><a name="reset_bucket-3">reset_bucket/3</a></h3>
<div class="spec">
<p><tt>reset_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Timeout::timeout()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#reset_bucket-4"><tt>reset_bucket(Pid, Bucket, Timeout,
	     default_timeout(reset_bucket_call_timeout))</tt></a>.</p>
<p>Reset bucket properties back to the defaults.</p>

<h3 class="function"><a name="reset_bucket-4">reset_bucket/4</a></h3>
<div class="spec">
<p><tt>reset_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Timeout::timeout(), CallTimeout::timeout()) -&gt; ok | {error, term()}</tt><br></p>
</div><p><b>This function is deprecated:</b> because <code>CallTimeout</code> is ignored</p>
<p>Reset bucket properties back to the defaults.</p>

<h3 class="function"><a name="search-3">search/3</a></h3>
<div class="spec">
<p><tt>search(Pid::pid(), Index::binary(), SearchQuery::binary()) -&gt; {ok, <a href="#type-search_result">search_result()</a>} | {error, term()}</tt><br></p>
</div><p>Execute a search query. This command will return an error
       unless executed against a Riak Search cluster.</p>

<h3 class="function"><a name="search-4">search/4</a></h3>
<div class="spec">
<p><tt>search(Pid::pid(), Index::binary(), SearchQuery::binary(), Options::<a href="#type-search_options">search_options()</a>) -&gt; {ok, <a href="#type-search_result">search_result()</a>} | {error, term()}</tt><br></p>
</div><p>Execute a search query. This command will return an error
       unless executed against a Riak Search cluster.</p>

<h3 class="function"><a name="search-5">search/5</a></h3>
<div class="spec">
<p><tt>search(Pid::pid(), Index::binary(), SearchQuery::binary(), Options::<a href="#type-search_options">search_options()</a>, Timeout::timeout()) -&gt; {ok, <a href="#type-search_result">search_result()</a>} | {error, term()}</tt><br></p>
</div><p>Execute a search query. This command will return an error
       unless executed against a Riak Search cluster.</p>

<h3 class="function"><a name="search-6">search/6</a></h3>
<div class="spec">
<p><tt>search(Pid::pid(), Index::binary(), SearchQuery::binary(), Options::<a href="#type-search_options">search_options()</a>, Timeout::timeout(), CallTimeout::timeout()) -&gt; {ok, <a href="#type-search_result">search_result()</a>} | {error, term()}</tt><br></p>
</div><p><b>This function is deprecated:</b> because <code>CallTimeout</code> is ignored</p>
<p>Execute a search query. This command will return an error
       unless executed against a Riak Search cluster.</p>

<h3 class="function"><a name="set_bucket-3">set_bucket/3</a></h3>
<div class="spec">
<p><tt>set_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, BucketProps::<a href="#type-bucket_props">bucket_props()</a>) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#set_bucket-4"><tt>set_bucket(Pid, Bucket, BucketProps,
	   default_timeout(set_bucket_timeout))</tt></a>.</p>
<p>Set bucket properties.</p>

<h3 class="function"><a name="set_bucket-4">set_bucket/4</a></h3>
<div class="spec">
<p><tt>set_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, BucketProps::<a href="#type-bucket_props">bucket_props()</a>, Timeout::timeout()) -&gt; ok | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#set_bucket-5"><tt>set_bucket(Pid, Bucket, BucketProps, Timeout,
	   default_timeout(set_bucket_call_timeout))</tt></a>.</p>
<p>Set bucket properties specifying a server side timeout.</p>

<h3 class="function"><a name="set_bucket-5">set_bucket/5</a></h3>
<div class="spec">
<p><tt>set_bucket(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, BucketProps::<a href="#type-bucket_props">bucket_props()</a>, Timeout::timeout(), CallTimeout::timeout()) -&gt; ok | {error, term()}</tt><br></p>
</div><p><b>This function is deprecated:</b> because <code>CallTimeout</code> is ignored</p>
<p>Set bucket properties specifying a server side and local call timeout.</p>

<h3 class="function"><a name="set_bucket_type-3">set_bucket_type/3</a></h3>
<div class="spec">
<p><tt>set_bucket_type(Pid, BucketType, BucketProps) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="set_bucket_type-4">set_bucket_type/4</a></h3>
<div class="spec">
<p><tt>set_bucket_type(Pid, BucketType, BucketProps, Timeout) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="set_client_id-2">set_client_id/2</a></h3>
<div class="spec">
<p><tt>set_client_id(Pid::pid(), ClientId::<a href="#type-client_id">client_id()</a>) -&gt; {ok, <a href="#type-client_id">client_id()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#set_client_id-3"><tt>set_client_id(Pid, ClientId,
	      default_timeout(set_client_id_timeout))</tt></a>.</p>
<p>Set the client id for this connection</p>

<h3 class="function"><a name="set_client_id-3">set_client_id/3</a></h3>
<div class="spec">
<p><tt>set_client_id(Pid::pid(), ClientId::<a href="#type-client_id">client_id()</a>, Timeout::timeout()) -&gt; {ok, <a href="#type-client_id">client_id()</a>} | {error, term()}</tt><br></p>
</div><p>Set the client id for this connection specifying timeout</p>

<h3 class="function"><a name="set_options-2">set_options/2</a></h3>
<div class="spec">
<p><tt>set_options(Pid::pid(), Options::<a href="#type-client_options">client_options()</a>) -&gt; ok</tt><br></p>
</div><p>Equivalent to <a href="#set_options-3"><tt>set_options(Pid, Options, infinity)</tt></a>.</p>
<p>Change the options for this socket.  Allows you to connect with one
       set of options then run with another (e.g. connect with no options to
       make sure the server is there, then enable queue_if_disconnected).</p>
<p><b>See also:</b> <a href="#start_link-3">start_link/3</a>.</p>

<h3 class="function"><a name="set_options-3">set_options/3</a></h3>
<div class="spec">
<p><tt>set_options(Pid::pid(), Options::<a href="#type-client_options">client_options()</a>, Timeout::timeout()) -&gt; ok</tt><br></p>
</div><p>Like set_options/2, but with a gen_server timeout.</p>
<p><b>See also:</b> <a href="#start_link-3">start_link/3</a>.</p>

<h3 class="function"><a name="set_search_index-3">set_search_index/3</a></h3>
<div class="spec">
<p><tt>set_search_index(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Index::binary()) -&gt; ok | {error, term()}</tt><br></p>
</div>

<h3 class="function"><a name="start-2">start/2</a></h3>
<div class="spec">
<p><tt>start(Address::<a href="#type-address">address()</a>, Port::<a href="#type-portnum">portnum()</a>) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>Create a process to talk with the riak server on Address:Port.
       Client id will be assigned by the server.</p>

<h3 class="function"><a name="start-3">start/3</a></h3>
<div class="spec">
<p><tt>start(Address::<a href="#type-address">address()</a>, Port::<a href="#type-portnum">portnum()</a>, Options::<a href="#type-client_options">client_options()</a>) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>Create a process to talk with the riak server on Address:Port with Options.</p>

<h3 class="function"><a name="start_link-2">start_link/2</a></h3>
<div class="spec">
<p><tt>start_link(Address::<a href="#type-address">address()</a>, Port::<a href="#type-portnum">portnum()</a>) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>Create a linked process to talk with the riak server on Address:Port
       Client id will be assigned by the server.</p>

<h3 class="function"><a name="start_link-3">start_link/3</a></h3>
<div class="spec">
<p><tt>start_link(Address::<a href="#type-address">address()</a>, Port::<a href="#type-portnum">portnum()</a>, Options::<a href="#type-client_options">client_options()</a>) -&gt; {ok, pid()} | {error, term()}</tt><br></p>
</div><p>Create a linked process to talk with the riak server on Address:Port with Options.
       Client id will be assigned by the server.</p>

<h3 class="function"><a name="stop-1">stop/1</a></h3>
<div class="spec">
<p><tt>stop(Pid::pid()) -&gt; ok</tt><br></p>
</div><p>Disconnect the socket and stop the process.</p>

<h3 class="function"><a name="stream_list_buckets-1">stream_list_buckets/1</a></h3>
<div class="spec">
<p><tt>stream_list_buckets(Pid) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="stream_list_buckets-2">stream_list_buckets/2</a></h3>
<div class="spec">
<p><tt>stream_list_buckets(Pid, Type) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="stream_list_buckets-3">stream_list_buckets/3</a></h3>
<div class="spec">
<p><tt>stream_list_buckets(Pid, Type, Options) -&gt; any()</tt></p>
</div>

<h3 class="function"><a name="stream_list_keys-2">stream_list_keys/2</a></h3>
<div class="spec">
<p><tt>stream_list_keys(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a>) -&gt; {ok, <a href="#type-req_id">req_id()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#stream_list_keys-3"><tt>stream_list_keys(Pid, Bucket,
		 default_timeout(stream_list_keys_timeout))</tt></a>.</p>
<p>Stream list of keys in the bucket to the calling process.  The
       process receives these messages.
  <pre>         {ReqId::req_id(), {keys, [key()]}}
         {ReqId::req_id(), done}</pre>
  <em>This is a potentially expensive operation and should not be used in production.</em></p>

<h3 class="function"><a name="stream_list_keys-3">stream_list_keys/3</a></h3>
<div class="spec">
<p><tt>stream_list_keys(Pid::pid(), Bucket::<a href="#type-bucket">bucket()</a> | <a href="#type-bucket_and_type">bucket_and_type()</a>, Timeout::integer() | list()) -&gt; {ok, <a href="#type-req_id">req_id()</a>} | {error, term()}</tt><br></p>
</div><p>Equivalent to <a href="#stream_list_keys-4"><tt>stream_list_keys(Pid, Bucket, Timeout,
		 default_timeout(stream_list_keys_call_timeout))</tt></a>.</p>
<p>Stream list of keys in the bucket to the calling process specifying server side
       timeout.
       The process receives these messages.
  <pre>         {ReqId::req_id(), {keys, [key()]}}
         {ReqId::req_id(), done}</pre>
  <em>This is a potentially expensive operation and should not be used in production.</em></p>

<h3 class="function"><a name="tunnel-4">tunnel/4</a></h3>
<div class="spec">
<p><tt>tunnel(Pid::pid(), MsgId::<a href="#type-msg_id">msg_id()</a>, Pkt::iolist(), Timeout::timeout()) -&gt; {ok, binary()} | {error, term()}</tt><br></p>
</div><p>Send a pre-encoded msg over the protocol buffer connection
  Returns {ok, Response} or {error, Reason}</p>

<h3 class="function"><a name="update_type-4">update_type/4</a></h3>
<div class="spec">
<p><tt>update_type(Pid::pid(), BucketAndType::<a href="#type-bucket_and_type">bucket_and_type()</a>, Key::binary(), Update::<a href="riakc_datatype.html#type-update">riakc_datatype:update</a>(term())) -&gt; ok | {ok, Key::binary()} | {ok, <a href="riakc_datatype.html#type-datatype">riakc_datatype:datatype()</a>} | {ok, Key::binary(), <a href="riakc_datatype.html#type-datatype">riakc_datatype:datatype()</a>} | {error, term()}</tt><br></p>
</div><p>Updates the convergent datatype in Riak with local
  modifications stored in the container type.</p>

<h3 class="function"><a name="update_type-5">update_type/5</a></h3>
<div class="spec">
<p><tt>update_type(Pid::pid(), BucketAndType::<a href="#type-bucket_and_type">bucket_and_type()</a>, Key::binary(), Update::<a href="riakc_datatype.html#type-update">riakc_datatype:update</a>(term()), Options::[<a href="proplists.html#type-property">proplists:property()</a>]) -&gt; ok | {ok, Key::binary()} | {ok, <a href="riakc_datatype.html#type-datatype">riakc_datatype:datatype()</a>} | {ok, Key::binary(), <a href="riakc_datatype.html#type-datatype">riakc_datatype:datatype()</a>} | {error, term()}</tt><br></p>
</div><p>Updates the convergent datatype in Riak with local
  modifications stored in the container type, using the given request
  options.</p>
<hr>

<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Dec 16 2016, 16:38:07.</i></p>
</body>
</html>
